{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\alokc\\\\OneDrive\\\\Desktop\\\\Pem_Joy\\\\client\\\\src\\\\components\\\\Items\\\\Item\\\\Payment\\\\Payment.js\",\n    _s = $RefreshSig$();\n\nimport { CardElement, useElements, useStripe } from \"@stripe/react-stripe-js\";\nimport axios from \"axios\";\nimport React, { useState } from \"react\"; // ------------------------------------STYLING---------------------------------------------\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CARD_OPTIONS = {\n  iconStyle: \"solid\",\n  style: {\n    base: {\n      iconColor: \"#c4f0ff\",\n      color: \"#fff\",\n      fontWeight: 500,\n      fontFamily: \"Roboto, Open Sans, Segoe UI, sans-serif\",\n      fontSize: \"16px\",\n      fontSmoothing: \"antialiased\",\n      \":-webkit-autofill\": {\n        color: \"#fce883\"\n      },\n      \"::placeholder\": {\n        color: \"#87bbfd\"\n      }\n    },\n    invalid: {\n      iconColor: \"#ffc7ee\",\n      color: \"#ffc7ee\"\n    }\n  }\n};\nexport default function PaymentForm(_ref) {\n  _s();\n\n  let {\n    amount,\n    itemStatus\n  } = _ref;\n  const [payed, setPayed] = useState(0);\n  const [success, setSuccess] = useState(false);\n  const stripe = useStripe();\n  const elements = useElements();\n  const [items, setItems] = useState();\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setItems(itemStatus.filter(item => item.status === \"ADDED\"));\n    setPayed(amount);\n    const {\n      error,\n      paymentMethod\n    } = await stripe.createPaymentMethod({\n      type: \"card\",\n      card: elements.getElement(CardElement)\n    });\n\n    if (!error) {\n      try {\n        const {\n          id\n        } = paymentMethod;\n        const response = await axios.post(\"http://localhost:5000/payment\", {\n          amount: amount,\n          id\n        });\n\n        if (response.data.success) {\n          console.log(\"Successful payment\");\n          setSuccess(true);\n        }\n      } catch (error) {\n        console.log(\"Error\", error);\n      }\n    } else {\n      console.log(error.message);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: !success ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \" \\xA0\\xA0\\xA0Enter details here\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"fieldset\", {\n          className: \"FormGroup\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"FormRow\",\n            children: /*#__PURE__*/_jsxDEV(CardElement, {\n              options: CARD_OPTIONS\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this), \"\\xA0\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-success\",\n          children: \"Pay\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"center\", {\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          style: {\n            color: \"green\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Payment Successful\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 15\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"i\", {\n            class: \"far fa-check-circle\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 41\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"center\", {\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: /*#__PURE__*/_jsxDEV(\"b\", {\n            children: [\"amount Paid : \", /*#__PURE__*/_jsxDEV(\"i\", {\n              class: \"fas fa-rupee-sign\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 31\n            }, this), \" \", payed, \" /-\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"center\", {\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: /*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Items Purchased:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"center\", {\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: items.map(item => /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [item.name, \" \", \"  ,  \"]\n          }, void 0, true))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n\n_s(PaymentForm, \"PyZ3zgnVtZVhz6qOGX88ZP+GR1s=\", false, function () {\n  return [useStripe, useElements];\n});\n\n_c = PaymentForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"PaymentForm\");","map":{"version":3,"sources":["C:/Users/alokc/OneDrive/Desktop/Pem_Joy/client/src/components/Items/Item/Payment/Payment.js"],"names":["CardElement","useElements","useStripe","axios","React","useState","CARD_OPTIONS","iconStyle","style","base","iconColor","color","fontWeight","fontFamily","fontSize","fontSmoothing","invalid","PaymentForm","amount","itemStatus","payed","setPayed","success","setSuccess","stripe","elements","items","setItems","handleSubmit","e","preventDefault","filter","item","status","error","paymentMethod","createPaymentMethod","type","card","getElement","id","response","post","data","console","log","message","map","name"],"mappings":"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","sourcesContent":["import { CardElement, useElements, useStripe } from \"@stripe/react-stripe-js\";\r\nimport axios from \"axios\";\r\nimport React, { useState } from \"react\";\r\n// ------------------------------------STYLING---------------------------------------------\r\nconst CARD_OPTIONS = {\r\n  iconStyle: \"solid\",\r\n  style: {\r\n    base: {\r\n      iconColor: \"#c4f0ff\",\r\n      color: \"#fff\",\r\n      fontWeight: 500,\r\n      fontFamily: \"Roboto, Open Sans, Segoe UI, sans-serif\",\r\n      fontSize: \"16px\",\r\n      fontSmoothing: \"antialiased\",\r\n      \":-webkit-autofill\": { color: \"#fce883\" },\r\n      \"::placeholder\": { color: \"#87bbfd\" },\r\n    },\r\n    invalid: {\r\n      iconColor: \"#ffc7ee\",\r\n      color: \"#ffc7ee\",\r\n    },\r\n  },\r\n};\r\n\r\nexport default function PaymentForm({ amount, itemStatus }) {\r\n  const [payed, setPayed] = useState(0);\r\n  const [success, setSuccess] = useState(false);\r\n  const stripe = useStripe();\r\n  const elements = useElements();\r\n  const [items, setItems] = useState();\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setItems(itemStatus.filter((item) => item.status === \"ADDED\"));\r\n    setPayed(amount);\r\n    const { error, paymentMethod } = await stripe.createPaymentMethod({\r\n      type: \"card\",\r\n      card: elements.getElement(CardElement),\r\n    });\r\n\r\n    if (!error) {\r\n      try {\r\n        const { id } = paymentMethod;\r\n        const response = await axios.post(\"http://localhost:5000/payment\", {\r\n          amount: amount,\r\n          id,\r\n        });\r\n\r\n        if (response.data.success) {\r\n          console.log(\"Successful payment\");\r\n          setSuccess(true);\r\n        }\r\n      } catch (error) {\r\n        console.log(\"Error\", error);\r\n      }\r\n    } else {\r\n      console.log(error.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {!success ? (\r\n        <>\r\n          <h3> &nbsp;&nbsp;&nbsp;Enter details here</h3>\r\n          <br />\r\n          <form onSubmit={handleSubmit}>\r\n            <fieldset className=\"FormGroup\">\r\n              <div className=\"FormRow\">\r\n                <CardElement options={CARD_OPTIONS} />\r\n              </div>\r\n            </fieldset>\r\n            &nbsp;&nbsp;&nbsp;\r\n            <button className=\"btn btn-success\">Pay</button>\r\n          </form>\r\n          <br />\r\n          <br />\r\n          <br />\r\n          <br />\r\n          <br />\r\n        </>\r\n      ) : (\r\n        <div>\r\n          <center>\r\n            <h1 style={{ color: \"green\" }}>\r\n              <b>Payment Successful</b> <i class=\"far fa-check-circle\"></i>\r\n            </h1>\r\n          </center>\r\n          <center>\r\n            <h3>\r\n              <b>\r\n                amount Paid : <i class=\"fas fa-rupee-sign\"></i> {payed} /-\r\n              </b>\r\n            </h3>\r\n          </center>\r\n\r\n          <center>\r\n            <h3>\r\n              <b>Items Purchased:</b>\r\n            </h3>\r\n          </center>\r\n          <center>\r\n            <h3>\r\n              {items.map((item) => (\r\n                <>\r\n                  {item.name} {\"  ,  \"}\r\n                </>\r\n              ))}\r\n            </h3>\r\n          </center>\r\n          <br />\r\n          <br />\r\n          <br />\r\n          <br />\r\n          <br />\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}